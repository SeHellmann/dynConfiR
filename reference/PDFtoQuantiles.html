<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="CDFtoQuantiles computes quantiles for a given CDF.
PDFtoQuantiles computes the quantiles for given PDF values within
groups of other variables, if available."><title>Get Quantiles from vectors of PDF or CDF values — PDFtoQuantiles • dynConfiR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get Quantiles from vectors of PDF or CDF values — PDFtoQuantiles"><meta property="og:description" content="CDFtoQuantiles computes quantiles for a given CDF.
PDFtoQuantiles computes the quantiles for given PDF values within
groups of other variables, if available."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dynConfiR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/dynConfiR.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/SeHellmann/dynConfiR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Get Quantiles from vectors of PDF or CDF values</h1>
      <small class="dont-index">Source: <a href="https://github.com/SeHellmann/dynConfiR/blob/HEAD/R/getquantiles.R" class="external-link"><code>R/getquantiles.R</code></a></small>
      <div class="d-none name"><code>PDFtoQuantiles.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>CDFtoQuantiles</code> computes quantiles for a given CDF.
<code>PDFtoQuantiles</code> computes the quantiles for given PDF values within
groups of other variables, if available.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PDFtoQuantiles</span><span class="op">(</span><span class="va">pdf_df</span>, p <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span>, <span class="fl">0.9</span><span class="op">)</span>, agg_over <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scaled <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">CDFtoQuantiles</span><span class="op">(</span><span class="va">cdf</span>, x <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">p</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>pdf_df</dt>
<dd><p>dataframe. Should have at least two columns:</p><ul><li><p><code>rt</code> (for reaction times) or <code>x</code> for the support values of the pdf</p></li>
<li><p><code>dens</code> or <code>pdf</code> for the pdf values</p></li>
<li><p>All other columns will be used as grouping factors, for which separate quantiles will be returned.</p></li>
</ul></dd>


<dt>p</dt>
<dd><p>numeric vector. Probabilities for returned quantiles. Default:
c(.1, .3, .5, .7, .9).</p></dd>


<dt>agg_over</dt>
<dd><p>character. Names of columns in <code>pdf_df</code> to aggregate over (using the mean of
densities, which is valid only, if groups occur with equal probabilities) before
computing the quantiles.</p></dd>


<dt>scaled</dt>
<dd><p>logical. Indicating whether the pdf values are from a proper probability
distribution. Non-scaled pdfs will scaled to 1. If <code>scaled</code> is TRUE, this may cause
problems with high probabilities. In any case we strongly recommend to cover the most
probability mass with the values in the support vector.</p></dd>


<dt>cdf</dt>
<dd><p>numeric. A increasing vector of the same length as <code>x</code> giving the CDF for respective x-Values.
Dataframe inputs are accepted. If a column <code>x</code> is available there, this will be used as support values.</p></dd>


<dt>x</dt>
<dd><p>numeric. A increasing vector of same length as <code>cdf</code>. Can also be specified as column of <code>cdf</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>PDFtoQuantiles</code> returns a <code>tibble</code> with columns p and q indicating
probabilities and respective quantiles. Furthermore, the output has grouping columns
identical to the additional columns in the input (without <code>rt</code>/<code>x</code>, <code>dens</code> and <code>densscaled</code>),
but without the ones in the <code>agg_over</code> argument. <code>CDFtoQuantiles</code></p>


<p>returns only a <code>data.frame</code> with columns <code>p</code> and <code>q</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For a reasonable accuracy the number of steps in the support column (<code>rt</code>/<code>x</code>)
should be high, i.e. the distance between values small.
We recommend, to ensure that the support vector in the input to be equidistant,
i.e. the difference between consecutive support values should be constant, though
this is not required.
If both column names <code>x</code> and <code>rt</code> are present in <code>pdf_df</code>, <code>rt</code> will be preferred.
Attention should be given to the columns of <code>pdf_df</code> other than <code>rt</code>/<code>x</code>
and <code>dens</code>/<code>pdf</code>.</p>
<p>The column for the pdf may be scaled to integrate to 1 but do not have to.</p><div class="section">
<h3 id="quantile-computation-in-the-dynconfir-package">Quantile computation in the <code>dynConfiR</code> package<a class="anchor" aria-label="anchor" href="#quantile-computation-in-the-dynconfir-package"></a></h3>


<p>As argument <code>pdf_df</code>, the outputs of <code>predictRT</code> and <code>predictRTModels</code> from the
<code>dynConfiR</code> package can be used. In the context of confidence models grouping factors
often used are conditions, correct/incorrect answers and confidence ratings.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Sebastian Hellmann.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Demonstrate PDFtoQuantiles</span></span></span>
<span class="r-in"><span><span class="va">pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dynWEV"</span>, <span class="st">"PCRMt"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    rt <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">15</span>, length.out<span class="op">=</span><span class="fl">1200</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    condition <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                    rating <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pred</span><span class="op">$</span><span class="va">dens</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html" class="external-link">dchisq</a></span><span class="op">(</span><span class="va">pred</span><span class="op">$</span><span class="va">rt</span>, <span class="fl">3</span><span class="op">)</span> <span class="co"># pdf may also be used as column name</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pred</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    model         rt condition rating       dens</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 dynWEV 0.00000000         1      1 0.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  PCRMt 0.00000000         1      1 0.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 dynWEV 0.01251043         1      1 0.04434345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  PCRMt 0.01251043         1      1 0.04434345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 dynWEV 0.02502085         1      1 0.06232006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  PCRMt 0.02502085         1      1 0.06232006</span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">PDFtoQuantiles</span><span class="op">(</span><span class="va">pred</span>, p<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model  condition rating     p     q</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> dynWEV         1      1   0.3  1.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> dynWEV         1      1   0.5  2.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> dynWEV         1      1   0.7  3.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> dynWEV         1      2   0.3  1.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> dynWEV         1      2   0.5  2.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> dynWEV         1      2   0.7  3.65</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span> <span class="co">#= 3(quantiles)*2(models)*3(conditions)*2(rating)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 36</span>
<span class="r-in"><span><span class="co"># Compare to true quantiles of Chi-square distribution</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html" class="external-link">qchisq</a></span><span class="op">(</span>p<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span><span class="op">)</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.423652 2.365974 3.664871</span>
<span class="r-in"><span><span class="va">res</span><span class="op">$</span><span class="va">q</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.426188 2.364470 3.653044</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">PDFtoQuantiles</span><span class="op">(</span><span class="va">pred</span>, p<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span><span class="op">)</span>, agg_over <span class="op">=</span> <span class="st">"model"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">res2</span><span class="op">)</span> <span class="co">#=18 because res aggregated over models</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 18</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span>  <span class="va">pred</span><span class="op">$</span><span class="va">pdf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html" class="external-link">dchisq</a></span><span class="op">(</span><span class="va">pred</span><span class="op">$</span><span class="va">rt</span>, <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pred</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    model         rt condition rating       dens        pdf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 dynWEV 0.00000000         1      1 0.00000000 0.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  PCRMt 0.00000000         1      1 0.00000000 0.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 dynWEV 0.01251043         1      1 0.04434345 0.04434345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  PCRMt 0.01251043         1      1 0.04434345 0.04434345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 dynWEV 0.02502085         1      1 0.06232006 0.06232006</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  PCRMt 0.02502085         1      1 0.06232006 0.06232006</span>
<span class="r-in"><span>  <span class="co"># following call throws a warning, because both columns pdf and dens are present</span></span></span>
<span class="r-in"><span>  <span class="fu">PDFtoQuantiles</span><span class="op">(</span><span class="va">pred</span>, p<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.7</span><span class="op">)</span>, agg_over <span class="op">=</span> <span class="st">"model"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>The column 'dens' is used as density values, not 'pdf'!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 18 × 4</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    condition rating     p     q</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>         1      1   0.3  1.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>         1      1   0.5  2.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>         1      1   0.7  3.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>         1      2   0.3  1.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>         1      2   0.5  2.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>         1      2   0.7  3.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>         2      1   0.3  1.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>         2      1   0.5  2.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>         2      1   0.7  3.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>         2      2   0.3  1.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">11</span>         2      2   0.5  2.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">12</span>         2      2   0.7  3.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">13</span>         3      1   0.3  1.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">14</span>         3      1   0.5  2.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">15</span>         3      1   0.7  3.65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">16</span>         3      2   0.3  1.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">17</span>         3      2   0.5  2.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">18</span>         3      2   0.7  3.65</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span>  <span class="va">pred2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>rt<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">7</span>, length.out<span class="op">=</span><span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">pred2</span><span class="op">$</span><span class="va">dens</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Chisquare.html" class="external-link">dchisq</a></span><span class="op">(</span><span class="va">pred2</span><span class="op">$</span><span class="va">rt</span>, <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># following call throws a warning, because density is assumed to be scaled (scaled=TRUE), i.e.</span></span></span>
<span class="r-in"><span>  <span class="co"># integrate to 1, but the .95 quantile is not reached in the rt column</span></span></span>
<span class="r-in"><span>  <span class="fu">PDFtoQuantiles</span><span class="op">(</span><span class="va">pred2</span>, p<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.95</span><span class="op">)</span>, scaled<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="co"># Gives a warning</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>There was 1 warning in `reframe()`.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> In argument: `CDFtoQuantiles(.data$cdfscaled, .data$rt, p = p)`.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> Caused by warning in `min()`:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span style="color: #BBBB00;">!</span> no non-missing arguments to min; returning Inf</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       p     q</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>  0.3   2.97</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>  0.5   4.38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>  0.95 <span style="color: #BB0000;">NA</span>   </span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Demonstrate CDFtoQuantiles</span></span></span>
<span class="r-in"><span><span class="va">X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>, length.out<span class="op">=</span><span class="fl">300</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pdf_values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">pnorm</a></span><span class="op">(</span><span class="va">X</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">CDFtoQuantiles</span><span class="op">(</span><span class="va">pdf_values</span>, <span class="va">X</span>, p<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     p            q</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.2 -0.836120401</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.5  0.006688963</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.8  0.849498328</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">qnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">0.8</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.8416212  0.0000000  0.8416212</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Sebastian Hellmann, Manuel Rausch.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

