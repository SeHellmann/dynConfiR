<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulation of confidence ratings and RTs in sequential sampling confidence models — simulateRTConf • dynConfiR</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulation of confidence ratings and RTs in sequential sampling confidence models — simulateRTConf"><meta name="description" content="Simulates the decision responses, reaction times and confidence measure
together with a discrete confidence judgment for the sequential sampling confidence model
specified by the argument model, given specific parameter constellations.
This function is a wrapper that calls the respective functions for diffusion based
models (dynaViTE and 2DSD: simulateWEV) and race models (IRM, PCRM,
IRMt, and PCRMt: simulateRM; and MTLNR: simulateMTLNR).
It also computes the Gamma rank correlation between the confidence ratings and
condition (task difficulty), reaction times and accuracy in the simulated output."><meta property="og:description" content="Simulates the decision responses, reaction times and confidence measure
together with a discrete confidence judgment for the sequential sampling confidence model
specified by the argument model, given specific parameter constellations.
This function is a wrapper that calls the respective functions for diffusion based
models (dynaViTE and 2DSD: simulateWEV) and race models (IRM, PCRM,
IRMt, and PCRMt: simulateRM; and MTLNR: simulateMTLNR).
It also computes the Gamma rank correlation between the confidence ratings and
condition (task difficulty), reaction times and accuracy in the simulated output."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">dynConfiR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/dynConfiR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ModellingWorkflow.html">Illustration of the workflow for a modelling study using dynConfiR</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SeHellmann/dynConfiR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Simulation of confidence ratings and RTs in sequential sampling confidence models</h1>
      <small class="dont-index">Source: <a href="https://github.com/SeHellmann/dynConfiR/blob/main/R/simulateConfModel.R" class="external-link"><code>R/simulateConfModel.R</code></a></small>
      <div class="d-none name"><code>simulateRTConf.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Simulates the decision responses, reaction times and confidence measure
together with a discrete confidence judgment for the sequential sampling confidence model
specified by the argument <code>model</code>, given specific parameter constellations.
This function is a wrapper that calls the respective functions for diffusion based
models (dynaViTE and 2DSD: <code><a href="simulateWEV.html">simulateWEV</a></code>) and race models (IRM, PCRM,
IRMt, and PCRMt: <code><a href="simulateRM.html">simulateRM</a></code>; and MTLNR: <code><a href="simulateMTLNR.html">simulateMTLNR</a></code>).
It also computes the Gamma rank correlation between the confidence ratings and
condition (task difficulty), reaction times and accuracy in the simulated output.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simulateRTConf</span><span class="op">(</span><span class="va">paramDf</span>, n <span class="op">=</span> <span class="fl">10000</span>, model <span class="op">=</span> <span class="cn">NULL</span>, gamma <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  agg_simus <span class="op">=</span> <span class="cn">FALSE</span>, simult_conf <span class="op">=</span> <span class="cn">FALSE</span>, stimulus <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  delta <span class="op">=</span> <span class="fl">0.01</span>, maxrt <span class="op">=</span> <span class="fl">15</span>, seed <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-paramdf">paramDf<a class="anchor" aria-label="anchor" href="#arg-paramdf"></a></dt>
<dd><p>a list or dataframe with one row with the required parameters.</p></dd>


<dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>integer. The number of samples (per condition and stimulus direction) generated.
Total number of samples is <code>n*nConditions*length(stimulus)</code>.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>character scalar. One of "dynaViTE", "dynWEV", "2DSD", "2DSDT",
"IRM", "PCRM", "IRMt", "PCRMt", or "MTLNR". Could also be passed as a column in the paramDf argument.</p></dd>


<dt id="arg-gamma">gamma<a class="anchor" aria-label="anchor" href="#arg-gamma"></a></dt>
<dd><p>logical. If TRUE, the gamma correlation between confidence ratings, rt and accuracy is
computed.</p></dd>


<dt id="arg-agg-simus">agg_simus<a class="anchor" aria-label="anchor" href="#arg-agg-simus"></a></dt>
<dd><p>logical. Simulation is done on a trial basis with RTs outcome. If TRUE,
the simulations will be aggregated over RTs to return only the distribution of response and
confidence ratings. Default: FALSE.</p></dd>


<dt id="arg-simult-conf">simult_conf<a class="anchor" aria-label="anchor" href="#arg-simult-conf"></a></dt>
<dd><p>logical. Whether in the experiment confidence was reported simultaneously
with the decision. If that is the case decision and confidence judgment are assumed to have happened
subsequent before the response. Therefore <code>tau</code> is included in the response time. If the decision was
reported before the confidence report, <code>simul_conf</code> should be <code>FALSE</code>.</p></dd>


<dt id="arg-stimulus">stimulus<a class="anchor" aria-label="anchor" href="#arg-stimulus"></a></dt>
<dd><p>numeric vector. Either 1, 2 or c(1, 2) (default).
Together with condition represents the experimental situation. In a 2AFC task the presented
stimulus belongs to one of two categories. In the default setting trials with
both categories presented are simulated but one can choose to simulate only trials with the
stimulus coming from one category.</p></dd>


<dt id="arg-delta">delta<a class="anchor" aria-label="anchor" href="#arg-delta"></a></dt>
<dd><p>numerical. Size of steps for the discretized simulation.</p></dd>


<dt id="arg-maxrt">maxrt<a class="anchor" aria-label="anchor" href="#arg-maxrt"></a></dt>
<dd><p>numerical. Maximum reaction time to be simulated. Default: 15.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>numerical. Seeding for non-random data generation. (Also possible outside of the function.)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Depending on <code>gamma</code> and <code>agg_simus</code>.</p>
<p>If <code>gamma</code> is <code>FALSE</code>, returns a <code>data.frame</code> with columns: <code>condition</code>,
<code>stimulus</code>, <code>response</code>, <code>correct</code>, <code>rt</code>, <code>conf</code> (the continuous confidence
measure) and <code>rating</code> (the discrete confidence rating) or
(if <code>agg_simus=TRUE</code>): <code>condition</code>, <code>stimulus</code>,<code>response</code>, <code>correct</code>,
<code>rating</code> and <code>p</code> (for the probability of a response and rating, given
the condition and stimulus).</p>
<p>If <code>gamma</code> is <code>TRUE</code>, returns a <code>list</code> with elements:
<code>simus</code> (the simulated data frame) and <code>gamma</code>, which is again a <code>list</code> with elements
<code>condition</code>, <code>rt</code> and <code>correct</code>, each a <code>tibble</code> with two columns (see details for more
information).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The output of the fitting function <code><a href="fitRTConf.html">fitRTConf</a></code> with the respective model
fits the argument <code>paramDf</code> for simulation. The function calls the respective simulation
function for diffusion based models, i.e. dynaViTE and 2DSD (<code><a href="simulateWEV.html">simulateWEV</a></code>) or race models,
i.e. IRM(t) and PCRM(t), (<code><a href="simulateRM.html">simulateRM</a></code>). See there for more information.</p>
<p><strong>Simulation Method:</strong> The simulation is done by simulating normal variables
in discretized steps until the processes reach the boundary.
If no boundary is met within the maximum time, response is set to 0.
The MTLNR model is simulated without discretization, but simply by simulating the
necessary log-normally distributed random variables.</p>
<p><strong>Gamma correlations:</strong> The Gamma coefficients are computed separately for
correct/incorrect responses for the correlation of confidence ratings with condition and rt
and separately for conditions for the correlation of accuracy and confidence. The resulting
data frames in the output thus have two columns. One for the grouping variable and one for the
Gamma coefficient.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Sebastian Hellmann.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The function is particularly useful, when having a collection</span></span></span>
<span class="r-in"><span><span class="co"># of parameter sets for different models (e.g. output by fitRTConfModels for</span></span></span>
<span class="r-in"><span><span class="co"># more than one model).</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: ‘dplyr’</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from ‘package:MASS’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     select</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from ‘package:stats’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     filter, lag</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following objects are masked from ‘package:base’:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     intersect, setdiff, setequal, union</span>
<span class="r-in"><span><span class="co"># 1. Generate only one parameter set but for two different models</span></span></span>
<span class="r-in"><span><span class="va">paramDf1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>model<span class="op">=</span><span class="st">"dynWEV"</span>, a<span class="op">=</span><span class="fl">1.5</span>,v1<span class="op">=</span><span class="fl">0.2</span>, v2<span class="op">=</span><span class="fl">1</span>, t0<span class="op">=</span><span class="fl">0.1</span>,z<span class="op">=</span><span class="fl">0.52</span>,</span></span>
<span class="r-in"><span>                      sz<span class="op">=</span><span class="fl">0.3</span>,sv<span class="op">=</span><span class="fl">0.4</span>, st0<span class="op">=</span><span class="fl">0</span>,  tau<span class="op">=</span><span class="fl">3</span>, w<span class="op">=</span><span class="fl">0.5</span>,</span></span>
<span class="r-in"><span>                      theta1<span class="op">=</span><span class="fl">1</span>, svis<span class="op">=</span><span class="fl">0.5</span>, sigvis<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">paramDf2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>model<span class="op">=</span><span class="st">"PCRMt"</span>, a<span class="op">=</span><span class="fl">2</span>,b<span class="op">=</span><span class="fl">2</span>, v1<span class="op">=</span><span class="fl">0.5</span>, v2<span class="op">=</span><span class="fl">1</span>, t0<span class="op">=</span><span class="fl">0.1</span>,st0<span class="op">=</span><span class="fl">0</span>,</span></span>
<span class="r-in"><span>                      wx<span class="op">=</span><span class="fl">0.6</span>, wint<span class="op">=</span><span class="fl">0.2</span>, wrt<span class="op">=</span><span class="fl">0.2</span>, theta1<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">paramDf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span><span class="va">paramDf1</span>, <span class="va">paramDf2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Joining with `by = join_by(model, a, v1, v2, t0, st0, theta1)`</span>
<span class="r-in"><span><span class="va">paramDf</span>  <span class="co"># each model parameters sets hat its relevant parameters</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    model   a  v1 v2  t0    z  sz  sv st0 tau   w theta1 svis sigvis  b  wx wint</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 dynWEV 1.5 0.2  1 0.1 0.52 0.3 0.4   0   3 0.5      1  0.5    0.8 NA  NA   NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  PCRMt 2.0 0.5  1 0.1   NA  NA  NA   0  NA  NA      4   NA     NA  2 0.6  0.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   wrt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.2</span>
<span class="r-in"><span><span class="co"># Split paramDf by model (maybe also other columns) and simulate data</span></span></span>
<span class="r-in"><span><span class="va">simus</span> <span class="op">&lt;-</span> <span class="va">paramDf</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/reframe.html" class="external-link">reframe</a></span><span class="op">(</span><span class="fu">simulateRTConf</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">cur_group</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pick.html" class="external-link">pick</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>, n<span class="op">=</span><span class="fl">200</span>, simult_conf <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">simus</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   model condition stimulus response correct    rt  conf rating</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> PCRMt         1        1        1       1  4.02  1.81      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> PCRMt         1        1        1       1  3.86  2.96      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> PCRMt         1        1        1       1  3.08  2.70      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> PCRMt         1        1        1       1  4.14  5.18      2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> PCRMt         1        1        1       1  4.37  3.90      1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span> PCRMt         1        1        1       1  5.25  1.89      1</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Hellmann, Manuel Rausch.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

